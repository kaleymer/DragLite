<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DragLite Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            background-color: #f4f4f4;
            color: #222222; /* Very dark gray, just barely lighter than black */
        }
        header {
            background-color: #282c34;
            color: #61dafb;
            padding: 1em 0;
            text-align: center;
        }
        nav {
            display: flex;
            justify-content: center;
            background-color: #20232a;
            flex-wrap: wrap;
            padding: 10px 0;
        }
        nav a {
            color: #61dafb;
            margin: 5px 10px;
            text-decoration: none;
            font-weight: 500;
            padding: 10px;
        }
        nav a:hover {
            color: #21a1f1;
        }
        .content {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding-bottom: 100px; /* Add padding to avoid content being cut off by footer */
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            border-bottom: 2px solid #61dafb;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-family: 'Roboto', sans-serif;
        }
        footer {
            background-color: #20232a;
            color: #61dafb;
            text-align: center;
            padding: 1em 0;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .contact-info {
            margin-top: 20px;
            font-size: 0.9em;
        }
        .contact-info a {
            color: #61dafb;
            text-decoration: none;
        }
        /* Image styling */
        img {
            max-width: 70%;
            height: auto;
            border-radius: 8px;
            margin-top: 20px;  /* Margin above the image */
            margin-bottom: 20px; /* Margin below the image */
        }
        /* Media Queries */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }
            nav {
                flex-direction: column;
                align-items: center;
            }
            nav a {
                margin: 5px 0;
                width: 100%;
                text-align: center;
            }
            footer {
                padding: 10px;
                font-size: 0.9em;
            }
        }
        @media (max-width: 480px) {
            header h1 {
                font-size: 1.5em;
            }
            .content {
                padding: 10px;
            }
            .section h2 {
                font-size: 1.2em;
            }
            footer {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>DragLite Documentation</h1>
    </header>
    <nav>
        <a href="#overview">Overview</a>
        <a href="#timeline">Project Timeline</a>
        <a href="#components">Components</a>
        <a href="#implementation">Implementation</a>
        <a href="#results">Results and Evaluation</a>
        <a href="#footer">Contact</a>
    </nav>
    <div class="content">
        <section id="overview" class="section">
            <h2>Project Overview</h2>
            <p>A custom GPS telemetry device featuring an ESP32 paired with the NEO-M9N GPS breakout module. DragLite is a vehicle acceleration tracker for the avid 
                car enthusiast, actively measuring acceleration times throughout performance testing and displays key metrics on an OLED screen. 
                This documentation will guide you through the project's features, components, implementation, results, and final evaluation. <br><br>
                </p>
                <img src="images/IMG_0300.jpeg" alt="DragLite Components">
        </section>
        <section id="timeline" class="section">
            <h2>Project Timeline</h2>
            <p>The development of DragLite was carried out in three main phases. </p>
            <ul>
                <li><strong>In the first phase</strong>, I began by choosing the appropriate MCU/GPS and supporting components. After these were acquired, I began obtaining gps coordinates/speed data from the gps module and display them through serial. This will confirm that both my U-Blox gps and ESP32 are in good working order and connected properly.</li>
                <li><strong>The second phase</strong> consisted of configuring the gps module appropriately using UBX commands to disable all NMEA messages except for speed and position. This will allow me to raise the refresh rate of the gps module to around 10hz ensuring smooth and fast communication through the I2C bus. This phase also includes the first iteration of my data parsing where I am extracting speed data from the NMEA sentences. This information is used to provide a digital speed readout on my 0.9‚Äù prototyping display in addition to measuring 0-60 times.</li>
                <li><strong>The third phase</strong> was where it got fun and I saw success. I moved away from the breadboard and swapped the small display for one 4x as big to give me better readability and space to display important metrics. This upgraded display was moved over to SPI communication and is soldered to the PCB along with the other components. Minor bug improvements to the code that increase accuracy and decrease faults/errors prone in gps speed and 0-60 calculations.</li>
            </ul>
        </section>
        <section id="components" class="section">
            <h2>Components</h2>
            <ul>
                <li><strong>ESP32 Microcontroller:</strong> Chosen for its low power consumption fast dual processor architecture.</li>
                <li><strong>GPS Module:</strong> Utilized for real-time position tracking. I2c address 0x42.</li>
                <li><strong>OLED Screen (ST7735):</strong> Displays acceleration data and other relevant metrics.</li>
                <li><strong>50mm x 70mm PCB:</strong> Soldered PCB board for all components.</li>
            </ul>
            <!-- Image of components -->
            <img src="images/IMG_7219.JPG" alt="DragLite Components">
        </section>
        <section id="implementation" class="section">
            <h2>Implementation</h2>
                <p>The DragLite project's implementation involved several key technical steps, focusing on integrating the ESP32 microcontroller with the NEO-M9N GPS module and the ST7735 OLED display.</p>
                <h3>Hardware Integration</h3>
                <p>The connections for the ST7735 display were carefully mapped to the ESP32's SPI pins, ensuring efficient communication:</p>
                <ul>
                  <li><strong>MOSI (Pin 23 on ESP32)</strong> -> Connected to <strong>MOSI</strong> on ST7735</li>
                  <li><strong>MISO (Pin 19 on ESP32)</strong> -> Connected to <strong>MISO</strong> on ST7735</li>
                  <li><strong>SCK (Pin 18 on ESP32)</strong> -> Connected to <strong>SCK</strong> on ST7735</li>
                  <li><strong>SS (Pin 5 on ESP32)</strong> -> Connected to <strong>CS</strong> on ST7735</li>
                  <li><strong>DC (GPIO 16 on ESP32)</strong> -> Used for Data/Command</li>
                  <li><strong>RST (GPIO 17 on ESP32)</strong> -> Used for Reset</li>
                  <li><strong>VCC</strong> -> 3.3V on ESP32</li>
                  <li><strong>GND</strong> -> GND on ESP32</li>
                </ul>
                <h3>Software Implementation</h3>
                <ol>
                  <li><strong>Initial Setup:</strong> The setup began by initializing the ESP32 and GPS module, configuring the GPS to disable unnecessary NMEA messages to optimize communication and reduce load. The ESP32 was programmed to process incoming GPS data, extract essential information like speed, and send it to the display.</li>
                  <li><strong>Display Management:</strong> The OLED display, originally a smaller 0.9" model, was upgraded to a 160x128 ST7735 for better visibility and data presentation. The display updates were optimized to minimize flicker and unnecessary refreshes, enhancing user experience.</li>
                  <li><strong>Performance Tuning:</strong> Key improvements were made to ensure accurate and reliable data transmission between the GPS module and the ESP32, with careful management of refresh rates and parsing routines. The system was tuned to provide real-time feedback, particularly in measuring 0-60 times, which required precise timing and data handling.</li>
                </ol>
                <p>The result is a fully functional, real-time telemetry device that provides valuable performance insights for car enthusiasts, displaying data clearly and efficiently on the upgraded OLED screen.</p>

        </section>
        <section id="results" class="section">
            <h2>Results and Evaluation</h2>
            <p>Here, the performance and effectiveness of the DragLite system are evaluated:</p>
            <ul>
                <li><strong>Performance Metrics:</strong> Evaluated the accuracy of the acceleration data and responsiveness of the system.</li>
                <li><strong>User Feedback:</strong> Collected feedback from initial users to refine the system.</li>
                <li><strong>Final Outcome:</strong> The DragLite system met all project objectives, with real-time data tracking and display functioning as intended.</li>
            </ul>
        </section>
    </div>
    <footer id="footer">
        <div class="contact-info">
            <p>Contact Info:</p>
            <p>
                <a href="mailto:kaleweimer@gmail.com">kaleweimer@gmail.com</a> |
                <a href="https://www.linkedin.com/in/kale-weimer/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
            </p>
        </div>
    </footer>
</body>
</html>
